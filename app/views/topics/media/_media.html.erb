<%= turbo_frame_tag dom_id(media) do %>
  <div class="flex items-center justify-between gap-4 py-4">
    <div class="flex items-center gap-4">
      <% if media.type == 'Photo' %>
        <%= link_to media.full_url, target: "_blank", rel: "noopener" do %>
          <%= image_tag media.thumb_url, 
              class: "h-16 w-16 rounded object-cover hover:opacity-75 transition-opacity",
              alt: media.title %>
        <% end %>
      <% elsif media.type == 'Movie' || media.type == 'TVShow' %>
        <%= image_tag media.display_poster, 
            class: "h-16 w-16 rounded object-cover",
            alt: media.title %>
      <% end %>
      
      <div class="flex-1 min-w-0">
        <p class="text-sm font-medium text-gray-900">
          <%= media.title %>
        </p>
        <p class="text-sm text-gray-500">
          <% if media.type == 'Photo' %>
            by <%= link_to media.photographer_name,
                    media.photographer_url,
                    class: "hover:text-blue-600",
                    target: "_blank",
                    rel: "noopener" %>
          <% else %>
            <%= media.type %>
            <% if media.metadata['release_date'] %>
              • <%= media.metadata['release_date'] %>
            <% elsif media.metadata['first_air_date'] %>
              • <%= media.metadata['first_air_date'] %>
            <% end %>
          <% end %>
        </p>
      </div>
    </div>

    <%= button_to send("#{@topic.route_key}_medium_path", @topic, media),
        method: :delete,
        class: "rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-red-600 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",
        data: { turbo_confirm: "Are you sure you want to remove this media?" } do %>
      Remove
    <% end %>
  </div>
<% end %> 