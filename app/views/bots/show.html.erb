<% content_for :title, @bot.name %>

<div class="bg-white shadow sm:rounded-lg">
  <div class="px-4 py-5 sm:p-6">
    <div class="flex items-center justify-between mb-4">
      <h3 class="text-base font-semibold leading-6 text-gray-900">
        <%= @bot.name %>
      </h3>

      <div class="flex items-center gap-2">
        <%= link_to "Edit", edit_bot_path(@bot),
            class: "rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50" %>
        
        <%= button_to bot_path(@bot), 
            method: :delete,
            class: "rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-red-600 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50",
            data: { turbo_confirm: "Are you sure?" } do %>
          Delete
        <% end %>
      </div>
    </div>

    <dl class="divide-y divide-gray-100">
      <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
        <dt class="text-sm font-medium leading-6 text-gray-900">Personality</dt>
        <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= @bot.personality %></dd>
      </div>
      <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
        <dt class="text-sm font-medium leading-6 text-gray-900">Base Model</dt>
        <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= @bot.base_model %></dd>
      </div>
      <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
        <dt class="text-sm font-medium leading-6 text-gray-900">Voter Weight</dt>
        <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= @bot.voter_weight %></dd>
      </div>
      <div class="px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-0">
        <dt class="text-sm font-medium leading-6 text-gray-900">Curation Focus</dt>
        <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= @bot.curation_focus %></dd>
      </div>
    </dl>

    <div class="mt-8">
      <div class="flex items-center justify-between mb-4">
        <h4 class="text-base font-semibold leading-6 text-gray-900">
          Influences
        </h4>

        <%= link_to new_bot_bot_influence_path(@bot),
            class: "rounded-md bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-blue-500" do %>
          Add Influence
        <% end %>
      </div>

      <div class="divide-y divide-gray-200">
        <%= render partial: "bot_influences/influence", collection: @influences %>
      </div>
    </div>
  </div>
</div> 